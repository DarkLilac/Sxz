<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
	<head>
		<title>Image With Hole Demo</title>
        <script src="sxz.js"></script>
	</head>
	<body>
    <img src="redbluegreenwithhole.png" align="left" alt="original png image" /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    <canvas id="canvasid" height="400"></canvas>
    <p>Image with a hole where is no data on the interior, not even a bitplane.</p>
	<script>
	    var binaryArray = "U1haRlI+AAAAUEIAywUFTVLwADoAAAAAAABQQgADoSVNUkEAdgAAADoAAE1SPgB2ALIAOgAAUEIABSXLTVLwADcAAACwAAA=";
        var canvas = document.getElementById('canvasid');
        var sxz = new Sxz();
        sxz.LoadLocal(binaryArray, canvas, MouseDown);

        function MouseDown(event) {
            var x = event.pageX;
            var y = event.pageY;

            x -= sxz.Canvas.offsetLeft;
            y -= sxz.Canvas.offsetTop;
            //alert('clicked ' + x + ' ' + y);

            var chunk = sxz.Container.Frames[0].GetSelected(x, y);
			if (chunk == null) return;
            //alert('have chunk ' + chunk);
            var color = chunk.GetColor(x, y);
            chunk.MouseDown();
            alert(color.Hex());
            sxz.Render();
            setInterval(function () { chunk.MouseUp(); sxz.Render(); }, 1000);
        }
    </script>
	</body>
</html>